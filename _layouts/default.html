<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital@1&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ '/assets/css/base.css' | relative_url }}" />
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}" />
  </head>
  <body class="{% if page.url == '/' %}page-home{% else %}page-inner{% endif %} {{ page.body_class }}">
    <nav class="scroll-nav" aria-label="Site">
      <div class="container">
        <a href="{{ '/' | relative_url }}">Home</a>
        <a href="{{ '/#services' | relative_url }}">Services</a>
        <a href="{{ '/portfolio/' | relative_url }}">Portfolio</a>
        <a href="{{ '/connect/' | relative_url }}">Connect</a>
        <a href="{{ '/sponsor/' | relative_url }}">Sponsor</a>
        <a href="{{ '/articles/' | relative_url }}">Articles</a>
        <a href="{{ '/research/' | relative_url }}">Research</a>
      </div>
    </nav>
    <main id="content">{{ content }}</main>
    <footer class="site-footer">
      <p>Created by TechUnder5</p>
    </footer>
    <script>
      (function() {
        var nav = document.querySelector('.scroll-nav');
        if (!nav) return;
        // If this is an inner page, keep the nav permanently visible
        var isInner = document.body.classList.contains('page-inner');
        if (isInner) {
          nav.classList.add('is-visible');
          return;
        }
        var triggerY = 80;
        function recalc() {
          var about = document.getElementById('about');
          if (about) {
            var rect = about.getBoundingClientRect();
            triggerY = rect.top + window.scrollY - 10;
          } else {
            triggerY = 80;
          }
        }
        function onScroll() {
          if (window.scrollY >= triggerY) {
            nav.classList.add('is-visible');
          } else {
            nav.classList.remove('is-visible');
          }
        }
        window.addEventListener('scroll', onScroll, { passive: true });
        window.addEventListener('resize', function(){ recalc(); onScroll(); }, { passive: true });
        recalc();
        onScroll();
      })();
    </script>
  </body>
  </html>


